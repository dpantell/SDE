<div *mobxAutorun>
    <br />

    <div style="padding-bottom: 10px;">
        Users: (You are <strong>{{userStore.me.name}}</strong> and your role is
        <strong>{{userStore.me.role.name}}</strong>)
    </div>

    <div *ngFor="let target of userStore.aliveUsers; index as i">

        <div style="height: 30px;">

            <span>
                ({{target.listPosition ? target.listPosition + 1 : i + 1}}) {{target.name}}
                {{target.id === userStore.me.id ? '(' + userStore.me.role.name + ')' : ''}}
            </span>

            <span *ngFor="let phaseAction of userStore.myActionMap">

                <!-- If action is enabled during the current phase -->
                <span *ngIf="isActionEnabledDuringPhase(phaseAction)">

                    <span *ngFor="let action of phaseAction.actions">

                        <!-- If the target for the action is allowable -->
                        <span *ngIf="stackStore.isTargetUserAllowableForAction(userStore.me, target, action)">

                            <button (click)="stackStore.addActionToStack(userStore.me, target, action)">{{action.name}}
                            </button>

                        </span>

                    </span>

                </span>

            </span>

        </div>

    </div>

</div>